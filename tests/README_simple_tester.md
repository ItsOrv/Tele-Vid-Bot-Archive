# ابزار تست ساده URL

این ابزار برای تست پردازش انواع مختلف لینک‌ها طراحی شده است. این اسکریپت برخلاف نسخه کامل، فقط از کتابخانه‌های استاندارد پایتون استفاده می‌کند و نیازی به نصب کتابخانه‌های اضافی ندارد.

## قابلیت‌ها

- بررسی اتصال به URL مورد نظر
- تجزیه و تحلیل اجزای URL
- بررسی ریدایرکت‌ها
- تولید انواع فرمت‌های تلگرامی برای لینک
- تشخیص پلتفرم‌های ویدیویی معروف (یوتیوب، ویمو، دیلی‌موشن و غیره)
- ذخیره نتایج در فایل JSON

## نیازمندی‌ها

- Python 3.6 یا بالاتر
- بدون نیاز به کتابخانه‌های خارجی

## نحوه استفاده

### اجرا با URL:

```bash
python simple_url_tester.py https://www.youtube.com/watch?v=dQw4w9WgXcQ
```

### اجرا با درخواست ورودی:

```bash
python simple_url_tester.py
```

سپس URL مورد نظر را وارد کنید.

## تست‌های انجام شده

1. **تست اتصال (connectivity)**:
   - بررسی می‌کند که آیا می‌توان به URL مورد نظر متصل شد
   - کد وضعیت HTTP و نوع محتوا را برمی‌گرداند

2. **تجزیه URL (url_components)**:
   - URL را به اجزای آن تجزیه می‌کند (scheme, domain, path, parameters)
   - پارامترهای پرس‌وجو را استخراج می‌کند

3. **بررسی ریدایرکت (redirects)**:
   - بررسی می‌کند که آیا URL به مکان دیگری ریدایرکت می‌شود
   - زنجیره ریدایرکت‌ها را دنبال می‌کند

4. **فرمت‌های تلگرام (telegram_format)**:
   - حالت‌های مختلف نمایش URL در تلگرام را تولید می‌کند
   - شامل: لینک ساده، لینک با پیشوند t.me، متن ساده، فرمت مارک‌داون، فرمت HTML

5. **تشخیص پلتفرم ویدیویی (video_platform)**:
   - بررسی می‌کند که آیا URL متعلق به یک پلتفرم ویدیویی شناخته شده است
   - در صورت تشخیص، ID ویدیو را استخراج می‌کند

## خروجی‌ها

اسکریپت گزارشی از نتایج تست‌ها را نمایش می‌دهد و یک فایل JSON با تمام جزئیات در دایرکتوری `/tmp/url_tests` ذخیره می‌کند.

## مثال گزارش

```
============================================================
URL Test Results for: https://www.youtube.com/watch?v=dQw4w9WgXcQ
============================================================

Domain: www.youtube.com
Tests passed: 5/5

Test Results:
------------------------------------------------------------
  connectivity: ✅ Success
    Status code: 200, Content-Type: text/html; charset=utf-8
  url_components: ✅ Success
    URL structure: https://www.youtube.com/watch
  redirects: ✅ Success
    URL does not redirect
  telegram_format: ✅ Success
    Generated 5 Telegram URL variations
  video_platform: ✅ Success
    Detected youtube video with ID: dQw4w9WgXcQ
============================================================

Full results saved to: /tmp/url_tests
```

## ساختار فایل JSON نتایج

فایل JSON ذخیره شده حاوی اطلاعات کاملی از تمام تست‌ها، از جمله جزئیات HTTP headers، پارامترهای URL، و داده‌های استخراج شده است. این اطلاعات می‌تواند برای عیب‌یابی یا تحلیل بیشتر استفاده شود. 